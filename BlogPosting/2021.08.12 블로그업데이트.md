# XSS와 CSRF(XSRF)은 대체뭘까..
https://ganzicoder.tistory.com/161

누군가 나에게 물어봤지만..

네? 뭐라고요?...난희고레?....

 

저는 처음듣는 말입니다만 이라고 밖에 나는 할수없어따...

 

그래서 바로 찾아봤다

 

대체 뭐하는 녀석들이길래 나를 당황시키는게냐

누구인게요!!

사이트 간 스크립팅(XSS: Cross-Site Scripting)
웹 애플리케이션에서 가장 많이 보여지는 취약점 중 하나

웹사이트 관리자가 아닌사람이 웹페이지에 악성 스크립트를 막 막 넣어버리는 그런 약점을 말한다

웹 애플리케이션이 사용자로부터 입력 받은 값을 제대로 검사하지않아서 생긴다고한다

이걸 방지하려면 유효성검사를 겁나게 철저하게 해야겟지요?

데이터를 절대 믿지마라 백엔드 철칙 1번째

 

주로 여러사용자가 이용하는 전자게시판에 악성스크립트가 있는 글을 올리는형태로 작성된다고한다

 

다른 약점으로는 해커가 사용자의 정보(쿠키 or 세션) 값을 훔쳐서 
비정상적인 기능을 수행하게 할수있다고한다 

전에 어디서 주워들은이야기인데
유비소프트 직원의 토큰값?쿠키값? 을 단돈 10달러로 사서 신작게임의 소스코드를 다 유출한 해커가 있다고했는데

해당 토큰값은 슬랙에서 훔쳣다고하니 말다햇지 뭐람

 

***대응방안**

1.스크립트 문장에 존재한 특수문자를 메타캐릭터로 변환시킨다고한다

                < === &lt

                > === &gt
                (  === &#40

                )  === &#41

               #  === &#35

               &  === &#38

요로코롬 값은 인코딩, 디코딩 같은느낌일까

 

 

2. contents 구문을 사용한다고한다

https://seokans.tistory.com/129

 
[CONTENTS] 구문

Part 1 | 문장의 구성 Chapter 01 | 문장의 기본 구조 Chapter 02 | 주어의 이해 Chapter 03 | 목적어의 이해 Chapter 04 | 보어의 이해 Part 2 | 서술어의 이해 Chapter 05 | 동사의 시제 Chapter 06 | 동사의 태..

seokans.tistory.com
참조해보자 좋은자료다

 

 

 

사이트 간 요청 위조(CSRF: Cross-Site Request Forgery)
 

웹 사이트 약점 중 하나로
사용자가 자신의 의지와는 다르게 악성유저가 시키는 행동

서버를 공격하는 행위를 하는것이라고한다(수정, 삭제, 과도한 등록) 

자칫하면 서버 터지겟다 펑...

 

 

-xss가 사용자가 특정 웹사이트를 믿고있는것을 노린것이라면(누군가가 악성스크립트를 올려놓고 사용자가 해당 스크립트때문에 피해를 받는거니깐 기본적으로 해당 사이트를 믿엇겟쥬?)

csrf 는 웹사이트가 사용자의 웹브라우저를 믿고있는것이라고한다
(해당유저가 지금 아바타 상태인줄도 모르고 그 유저의 요청을 다 받아들이니깐?)

 

***대응방안**

 

1. CSRF 토큰 사용

2. 사용자와 상호 처리 기능 적용

3. 재인증 요구

 

쿠키 가로채기 방지하는법 :

1. 입력값을 항시 검사 비정상 값은 바로 reject

2.쿠키사용 : 쿠키에 절대 중요정보를 넣지말자

 

세션변조 

Query String 검사

민감 데이터나 값의 트랜잭션 위해 재인증이나 트랜잭션 서명 요청(GET 금지)

 

XSS와 CSRF의 차이요약
XSS 는 클라이언트, CSRF 는 서버를 공격 한다

XSS 는 사이트를 변조하거나 백도어를 통해 클라이언트에 대해 악성공격을한다 (API 주소를 지네 해킹사이트 결제창으로 바꿀수도잇을거같다..)

CSRF 는 요청을 위조해서 사용자의 권한을 이용해 서버에 대해 악성공격을 한다
(아마 소스코드 유출도 CSRF 와 유사한 공격이였지 않을까싶다)