# JavaScript basic syntax(3)
https://ganzicoder.tistory.com/61

동기적  비동기적

```
var fs = require('fs');

//readfileSync  동기적인 처리방법 

// console.log('A');
// var result = fs.readFileSync('syntax/sample.txt', 'utf8'); // utf8 을 넣어야만 사람이 읽을수있는 형태로 변환 
// console.log(result); // B 가 나오는데 sample.txt 파일의 내용 B 를 출력한다 readFileSync(경로, 형태? 찾아보장)
// console.log('C');

console.log('A');
fs.readFile('syntax/sample.txt', 'utf8', function(err, result){   // 비동기식은 callback 이 필요함 function 부분 = callback
    console.log(result);
}); // callback 의 err 인자에서 error 가있으면 error 를 인자로제공하고, 2번째 매개변수는 파일의 내용을 인자로서 제공하기로 약속
// node js 의 성능을 제대로 끌어올리기위해서는 비동기식 asychronize 방식으로 작업하기를 추천쓰


console.log('C');
```

비동기식은 callback 을 쓰는데 

 

저 코드블럭내의 코드를 출력시키면 

A

C

B 

로 나오게된다 sample.txt 의 내용을 읽어와서 출력을하는데 

callback 함수 즉 모든것이 동작하고 난뒤 동작한다

 

 

#### callback

```
// function a(){
//     console.log('A');  // a 라는 함수를 실행하면 A 를 출력쓰
// }
var a = function a(){  // a라는 변수안에 함수 a 를  변수 a 의 값으로도 넣을수있음 nodejs 에서는 함수도 변수의 값이 될수있음
    console.log("A");
}
// a(); //a 라는 이름의 변수든 함수든 호출

function slowfunc(callback){  // 나중에 전화해 callback 나중에 동작하길원할때 인자값을 callback 으로 받자
    callback();
}

slowfunc(a); // 오랜시간이 지나서 동작하는 slowfunc 라는 함수가 동작을하고
            // slowfunc함수의 매개변수인 callback 은 변수 a 의 값으로 지정된 함수 a를 값으로 받음
            // callback() 은 고로 변수 a 와 같다

            // 정리 : 함수 slowfunc 매개변수(parameter) callback 이
            // 13번에서 a 라는 인자값을 받으면 변수 a 의 값인 함수 a 를 매개변수 callback 값으로 받아와서
            // callback()은 고로 var a = function a 와 같다  좀빡침 이해될까말까함
```

#### 객체와 배열

```
var members = ['jung', 'park', 'duck9']; // 배열의 literal 표현하는 방법은 [] 중괄호 
console.log(members[1]); // park

var i = 0 
while(i < members.length){ //  members.length === members의 원소의 갯수
    console.log(members[i]);
    i = i + 1;
}

// 객체의 literal 표현하는 방법은 {} 대괄호
var roles = {
    'programmer' : 'jung',
    'designer' : 'park',
    'dog' : 'duck9'
};
console.log(roles.designer); // 객체에서는 객체명 다음에 . 을찍는다 roles.designer 처럼


// 객체는 어떻게 loop 와 함께 사용할수있는가
// for 문이 존재 for 문의 첫번째 자리는 변수 그 다음 in 이라는 약속된 문구 사용 처릴할객체를 in 뒤에 넣는다
for(var name in roles){  // name 의 위치가 키 : 밸류  (객체)  중의 key 값
    console.log('object', name); // 키만 가져온다
}

for(var name in roles){  
    console.log('object', name, 'value', roles[name]); // roles 객체의 [키값] 하면 키 : 밸류 값 둘다 출력
}
```

#### 변수의 값으로 함수가 존재하는경우

```
// array, object  데이터를 보기좋게 정리하는 도구

function f1(){
    console.log(1+1);
    console.log(1+2);
}

var f = function(){
    console.log(1+1);
    console.log(1+2);
}
console.log(f); // F 의 TYPE 출력   
 f();     // f 변수 안에있는 함수 출력
        // function 은 데이터 처리구문이면서 동시에 값이 될수있다 ex) 변수 의 값   var ?? = function(){}

var a = [f]; // 배열의 원소로서 함수가 존재할수있다 a 라는변수는 f함수의배열   ....[f] === var a
a[0]();

var o = {
    func:f
}
o.func();
```

변수 a 의 값으로 함수값이 들어가있는 변수 f 의 배열을 지정할수있다 

a[0] === 함수가 들어가있는 변수 f 의 0번째위치 데이터 출력

 

변수 o 에는 함수가 각체의 값으로도 들어갈수있다

 
####  객체와 함수 2

```
var v1 = 'v1';
// 10000 code 가 사이에있을수도
v1 = 'jung'; // v1 낑겨넣기 
var v2 = 'v2';

var o = {
    v1:'v1',
    v2:'v2'
}  // 객체는 마치 폴더와 같다

function f1(){
    console.log(o.v1);
}

function f2(){
    console.log(o.v2);
}

f1();
f2();

// 객체는 폴더와 같다 그런데 함수는 객체라는 폴더안에 파일처럼 들어갈수가있음 파일로 들어간다는건 값이 될수있다는것
// 객체 안에 함수를 저장해보자

var q = {
    v1:'v1',
    v2:'v2',
    f1:function(){
        console.log(this.v1); // this 라는 약속된 문구로 인해 함수가 속해있는 객체의 이름 을 뜻한다 바뀌어도 알아서 척척척~~
    },
    f2:function(){
        console.log(this.v2);
    }
}
// f1,f2 객체 o 안에있는 함수 호출할때는
q.f1();
q.f2();  // o 안에있는 f1,f2 함수 호출
```
